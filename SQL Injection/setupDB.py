#!/bin/python3


import sqlite3
from flask import Flask
from sqlite3 import Error

def createConnection(path):
    connection = None
    try:
        connection = sqlite3.connect(path, check_same_thread=False)
        print("Connection to SQLite DB successful")
    except Error as e:
        print(f"The error '{e}' occurred")
    return connection

def runQuery(conn, query):
    post = conn.execute(query)
    if post is None:
        abort(404)
    return post

conn = createConnection("db.sqlite")

runQuery(conn, 'DROP TABLE IF EXISTS users;')
runQuery(conn, 'CREATE TABLE users (\
    id TEXT PRIMARY KEY,\
    name TEXT NOT NULL,\
    title TEXT NOT NULL,\
    pay INTEGER NOT NULL,\
    password TEXT NOT NULL);')

runQuery(conn, 'INSERT into users VALUES ("97f2a197-19a1-45e3-85a6-588ec60938dc", "Alice", "President", 1000000, "password")')
runQuery(conn, 'INSERT into users VALUES ("5d988b8a-f3bd-4d9c-a4eb-78cd22f56fb7", "Bob", "Vice President", 1500000, "12345")')
runQuery(conn, 'INSERT into users VALUES ("e6d682b1-b86d-4533-a380-f1d32f75eb2d", "Carol", "Developer", 50000, "Password123")')
runQuery(conn, 'INSERT into users VALUES ("1334222f-51e8-4c86-aca7-8ee3f685dde7", "Dan", "Developer", 52000, "IHaveAGoodPassword12!#$")')
runQuery(conn, 'INSERT into users VALUES ("e695ba0b-4ca6-4644-aca8-ba1f3089d584", "Erin", "Senior Developer", 45000, "ilovelamp")')
runQuery(conn, 'INSERT into users VALUES ("2e9a52c8-f527-45b5-9d8b-998bf758acc3", "Frank", "Janitor", 80000, "1/1/2022")')
runQuery(conn, 'INSERT into users VALUES ("a69c54d6-1978-449e-8890-293c8153bbe6", "Grace", "Secretary", 100000, "helloabc")')

conn.commit()
conn.close()
